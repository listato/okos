

    movlw 1
    movwf currentFile
    rcall loadFile
    
    rcall openFile
    movlw low(codestr)
    movwf TBLPTRL
    movlw high(codestr)
    movwf TBLPTRH
    
loadTestCode:
    tblrd*+
    movf TABLAT, w
    xorlw 0xff
    bz loadTestCodeDone
    movf TABLAT, w
    movwf POSTINC2
    bra loadTestCode
    
loadTestCodeDone
    

    movlw 2
    movwf currentFile
    rcall openFile
    
    bra assemblerStart
    
    nop
    
;codestr:
;;    node convertString.js ";comment|mvl 55|mvf 21|.|"
;    db 0x24, 0x0c
;    db 0x18, 0x16
;    db 0x16, 0x0e
;    db 0x17, 0x1d
;    db 0x28, 0x16
;    db 0x1f, 0x15
;    db 0x26, 0x05
;    db 0x05, 0x28
;    db 0x16, 0x1f
;    db 0x0f, 0x26
;    db 0x02, 0x01
;    db 0x28, 0x25
;    db 0x28, 0x0
    
codestr:
    db 0x0b, 0x0c
    db 0x0f, 0x26
    db 0x02, 0x00
    db 0x26, 0x07
    db 0x28, 0x0b
    db 0x1c, 0x0f
    db 0x26, 0x02
    db 0x0f, 0x26
    db 0x03, 0x28
    db 0x0b, 0x1d
    db 0x0c, 0x26
    db 0x02, 0x00
    db 0x26, 0x07
    db 0x28, 0x0b
    db 0x1d, 0x1c
    db 0x26, 0x02
    db 0x01, 0x26
    db 0x03, 0x28
    db 0x16, 0x1f
    db 0x15, 0x26
    db 0x01, 0x28
    db 0x16, 0x1f
    db 0x15, 0x26
    db 0x0f, 0x0f
    db 0x28, 0x16
    db 0x1f, 0x20
    db 0x26, 0x02
    db 0x00, 0x28
    db 0x16, 0x1f
    db 0x0f, 0x26
    db 0x02, 0x01
    db 0x26, 0x01
    db 0x28, 0x16
    db 0x1f, 0x0f
    db 0x26, 0x02
    db 0x0f, 0x26
    db 0x00, 0x28
    db 0x0a, 0x0d
    db 0x0d, 0x26
    db 0x03, 0x00
    db 0x26, 0x01
    db 0x28, 0x0a
    db 0x17, 0x0d
    db 0x26, 0x03
    db 0x00, 0x26
    db 0x01, 0x28
    db 0x12, 0x18
    db 0x1b, 0x26
    db 0x03, 0x00
    db 0x26, 0x01
    db 0x28, 0x21
    db 0x18, 0x1b
    db 0x26, 0x03
    db 0x00, 0x26
    db 0x01, 0x28
    db 0x1b, 0x15
    db 0x0c, 0x26
    db 0x03, 0x00
    db 0x26, 0x01
    db 0x28, 0x1b
    db 0x1b, 0x0c
    db 0x26, 0x03
    db 0x00, 0x26
    db 0x01, 0x28
    db 0x0b, 0x1b
    db 0x0a, 0x26
    db 0x01, 0x02
    db 0x03, 0x04
    db 0x28, 0x0c
    db 0x0a, 0x15
    db 0x26, 0x01
    db 0x02, 0x03
    db 0x04, 0x28
    db 0x1b, 0x0e
    db 0x1d, 0x28
    db 0x25, 0x28
    db 0x28, 0xff